#!/usr/bin/env bash
#
# rename pictures based on exifs

die() {
    echo 'usage : pics [file...]'
    exit 1
}

(($#)) || die

for file; do
    var=$(exif -mt DateTime "$file") || die

    # format extension
    ext=${file##*.}
    ext=${ext,,}

    # format date
    var=${var//:/-}
    var=${var// /_}

    # format name
    name=$var.$ext

    [[ $name != "$file" ]] && {
        mv   "$file"  "$name"
        echo "$file -> $name"
    }
done
