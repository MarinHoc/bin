#!/bin/sh
#
# extract - extract common archive formats

die() {
    die "${1:-usage : ${0##*/} [file...]}" >&2
    exit 1
}

test "$1" || die

for file; do
    test -f "$file" || die

    case $file in
        *.tar.bz2|*.tar.gz|*.tar.xz|*.tar|*.tgz|*.xz) tar xvf "$file";;
        *.zip)   unzip "$file";;
        *.gz)   gunzip "$file";;
        *.rar) unrar e "$file";;
        *) die "error : '$1' cannot be extracted via ${0##*/}"
    esac
done
