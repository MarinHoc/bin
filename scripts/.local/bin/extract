#!/bin/sh
#
# extract - extract common archive formats

die() {
    echo "$1" >&2
    exit 1
}

test "$1" || die "usage : ${0##*/} [file...]"

for file; do
    test -f "$file" || die "usage : ${0##*/} [file...]"

    case $file in
        *.tar.bz2|*.tar.gz|*.tar.xz|*.tar|*.tgz|*.xz) tar xvf "$file";;
        *.zip)   unzip "$file";;
        *.gz)   gunzip "$file";;
        *.rar) unrar e "$file";;
        *) die "error : '$1' cannot be extracted via ${0##*/}"
    esac
done
