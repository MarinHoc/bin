#!/usr/bin/env bash
#
# todo - simple todo script

task=$2
todo=~/.local/share/todo

case $1 in
    '')
        _() { printf '%-5s%s' "$1" "$2"; }
        mapfile -C _ -c1 < "$todo"
        ;;
    del)
        _() { ((task != $1)) && printf '%s' "$2"; }
        var=$(mapfile -C _ -c1 < "$todo")

        [[ $var ]] && echo "$var" > "$todo" || > "$todo"
        ;;
    add) echo "${@:2}" >> "$todo";;
    *)   echo "usage : ${0##*/} <add|del> [text|n]" >&2
esac
