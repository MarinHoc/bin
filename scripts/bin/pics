#!/usr/bin/env bash
#
# rename pictures based on exifs

if ((! $#)); then
    echo 'usage : pics [file...]'
    exit 1
fi

for file; {
    var=$(exif -mt DateTime "$file") || exit 1

    # format extension
    ext=${file##*.}
    ext=${ext,,}

    # format date
    var=${var//:/-}
    var=${var// /_}

    mv   "$file"  "$var.$ext"
    echo "$file -> $var.$ext"
}
