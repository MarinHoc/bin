#!/usr/bin/env bash
#
# todo script

task=$2
todo=~/.local/share/todo

pri()
    while read -r a; do
        printf '%-5s%s\n' $((c++)) "$a"
    done < "$todo"

del()
    while read -r a; do
        ((task != c++)) && echo "$a"
    done < "$todo"

if ((! $#)); then
    pri; exit
fi

case $1 in
    add) echo "${@:2}" >> "$todo";;
    del) echo "$(del)"  > "$todo";;
    *) echo 'usage : todo <add|del> [text|n]'
esac
